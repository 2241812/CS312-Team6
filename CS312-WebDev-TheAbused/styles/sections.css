/* Section hover/floating rules */
@media (hover: hover) and (pointer: fine) {
  section.main {
  transition: transform 320ms cubic-bezier(0.22,0.61,0.36,1), box-shadow 320ms cubic-bezier(0.22,0.61,0.36,1), margin 320ms cubic-bezier(0.22,0.61,0.36,1);
  will-change: transform, box-shadow, margin;
  /* ensure lifted shadow and transform are visible outside container */
  overflow: visible;
  }
  section.main:hover {
  /* Move visually and in layout to avoid a small gap appearing */
  transform: translateY(-14px);
  margin-top: -14px;
  box-shadow: 0 24px 48px rgba(16,20,30,0.18);
  }

  .features li, .statistics li {
  transition: transform 260ms cubic-bezier(0.22,0.61,0.36,1), box-shadow 260ms cubic-bezier(0.22,0.61,0.36,1);
  will-change: transform, box-shadow;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1;
  }
  .features li:hover, .statistics li:hover { transform: translateY(-10px); box-shadow: 0 18px 36px rgba(16,20,30,0.12); }

  /* Intro similar to first section */
  #intro { transition: transform 320ms cubic-bezier(0.22,0.61,0.36,1), box-shadow 320ms cubic-bezier(0.22,0.61,0.36,1); }
  #intro:hover { transform: translateY(-14px); box-shadow: 0 24px 48px rgba(16,20,30,0.18); }
}

@media (prefers-reduced-motion: reduce) {
  section.main, section.main:hover, .features li, .statistics li, #intro, #intro:hover { transform: none !important; box-shadow: none !important; transition: none !important; }
}

/* Province Cards */
.province-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}

.province img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 0.75rem;
}

/* Graph Section */
.stats-graph {
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
    text-align: left;
}

.bar {
    background: #f0f0f0;
    margin: 0.75rem 0;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
}

.bar span {
    display: inline-block;
    padding: 0.5rem;
    font-weight: bold;
    color: #333;
}

.bar-fill {
    display: inline-block;
    padding: 0.5rem;
    color: #fff;
    background: linear-gradient(90deg, #4DA6FF, #6BCB77);
    font-weight: 600;
}

/* Statistics (inside stats-graph): horizontal bars sized by --value (pure CSS), ordered by value */
.stats-graph .statistics {
    display: block;
    max-width: 820px;
    margin: 0.5rem auto 1rem auto;
    padding: 0.25rem 0;
}
.stats-graph .statistics li {
    /* percentage of the max (e.g. 62%) */
    --value-percent: calc(var(--value, 0) / var(--max, 1) * 100%);
    position: relative;
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    margin: 0.5rem 0;
    background: transparent;
    border-radius: 10px;
    transition: transform 220ms ease, box-shadow 220ms ease;
    cursor: default;
    /* order higher values first */
    order: calc(100000 - var(--value, 0));
}
.stats-graph .statistics li:hover {
    transform: translateY(-6px);
    box-shadow: 0 14px 30px rgba(16,20,30,0.10);
}

/* Track (neutral background) */
.stats-graph .statistics li::before {
    content: '';
    position: absolute;
    left: 64px; /* leave space for the icon */
    right: 1rem;
    height: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(16,20,30,0.06);
    border-radius: 8px;
    z-index: 0;
}

/* Fill (colored bar) */
.stats-graph .statistics li::after {
    content: '';
    position: absolute;
    left: 64px;
    height: 12px;
    top: 50%;
    transform: translateY(-50%);
    width: var(--value-percent);
    max-width: 100%;
    background: linear-gradient(90deg, #4DA6FF, #6BCB77);
    border-radius: 8px;
    z-index: 0;
    transition: width 420ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

/* Ensure content (icon + text) sits above bars */
.stats-graph .statistics li > * { position: relative; z-index: 1; }

@media (max-width: 560px) {
    .stats-graph .statistics li::before, .stats-graph .statistics li::after { left: 56px; }
}

@media (prefers-reduced-motion: reduce) {
    .stats-graph .statistics li, .stats-graph .statistics li::after { transition: none !important; }
}

/* Make videos match the placeholder image styling used elsewhere */
.spotlight .image,
.image {
    /* Ensure rounded corners on the container clip the video (controls included) */
    overflow: hidden;
    border-radius: 10px;
}

.spotlight .image video,
.image video,
.spotlight .image iframe,
.image iframe {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 10px; /* safeguard in case parent styles differ */
    margin-bottom: 0.75rem;
    /* Keep native aspect ratio and avoid unwanted stretching */
    object-fit: contain;
}

/* Make videos slightly smaller and center them in spotlight areas */
.spotlight .image video,
.image video {
    max-width: 420px; /* make the embedded video smaller */
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    display: block;
}

/* Fade-in animation for videos (uses fadeIn from animations.css) */
.image video.animate-fade,
.spotlight .image video.animate-fade {
    opacity: 0;
    animation-name: fadeIn;
    animation-duration: 700ms;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
}

@media (prefers-reduced-motion: reduce) {
    .image video.animate-fade,
    .spotlight .image video.animate-fade {
        animation: none !important;
        opacity: 1 !important;
    }
}
